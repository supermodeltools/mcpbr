<!DOCTYPE html>
<html lang="{{.Site.Language}}">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Configuration | {{.Site.Name}}</title>
  <meta name="description" content="Configure mcpbr with YAML files to define MCP server settings, benchmark selection, model parameters, and evaluation options.">
  <meta name="robots" content="index, follow">
  <meta name="theme-color" content="#6D28D9">
  <link rel="canonical" href="{{.Site.BaseURL}}/configuration.html">
  <link rel="icon" href="/mcpbr-logo.jpg" type="image/jpeg">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Inter:wght@400;500;600&display=swap">

  <meta property="og:title" content="Configuration | mcpbr">
  <meta property="og:description" content="Configure mcpbr with YAML files to define MCP server settings, benchmark selection, and evaluation options.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{.Site.BaseURL}}/configuration.html">
  <meta property="og:image" content="{{.Site.BaseURL}}/mcpbr-logo.jpg">
  <meta property="og:site_name" content="{{.Site.Name}}">

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "How do I configure mcpbr to use my MCP server?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Configure the mcp_server section in your YAML config file with the command to start your server, args (using {workdir} as placeholder for the task repository path), and any required environment variables."
        }
      },
      {
        "@type": "Question",
        "name": "What configuration parameters are available in mcpbr?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Key parameters include mcp_server (command, args, env), provider (anthropic), model, benchmark, sample_size, timeout_seconds, max_concurrent, and max_iterations."
        }
      }
    ]
  }
  </script>

  <style>
    :root {
      --color-primary: #6D28D9;
      --color-primary-light: #F3EEFF;
      --color-text: #1a1a1a;
      --color-text-muted: #6b7280;
      --color-bg: #fafaf9;
      --color-surface: #ffffff;
      --color-border: #e5e5e5;
      --radius: 6px;
      --font-serif: 'DM Serif Display', Georgia, serif;
      --font-sans: 'Inter', system-ui, -apple-system, sans-serif;
      --font-mono: 'SF Mono', 'Fira Code', monospace;
    }
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: var(--font-sans); color: var(--color-text); background: var(--color-bg); line-height: 1.6; -webkit-font-smoothing: antialiased; }
    a { color: var(--color-primary); text-decoration: none; }
    a:hover { text-decoration: underline; }
    .site-header { display: flex; align-items: center; justify-content: space-between; padding: 1rem 2rem; max-width: 900px; margin: 0 auto; }
    .site-brand { font-family: var(--font-serif); font-size: 1.25rem; color: var(--color-text); display: flex; align-items: center; gap: 0.5rem; }
    .site-brand:hover { text-decoration: none; }
    .site-brand img { width: 28px; height: 28px; border-radius: 4px; }
    .site-header nav { display: flex; gap: 1.5rem; font-size: 0.9375rem; }
    .site-header nav a { color: var(--color-text-muted); }
    .site-header nav a:hover { color: var(--color-primary); text-decoration: none; }
    main { max-width: 900px; margin: 0 auto; padding: 0 2rem 3rem; }
    h1 { font-family: var(--font-serif); font-size: 2rem; line-height: 1.2; margin-bottom: 1rem; }
    h2 { font-family: var(--font-serif); font-size: 1.375rem; margin: 2rem 0 0.75rem; padding-top: 1rem; border-top: 1px solid var(--color-border); }
    h3 { font-size: 1.125rem; margin: 1.5rem 0 0.5rem; }
    h4 { font-size: 1rem; margin: 1.25rem 0 0.4rem; }
    p { margin: 0.5rem 0; }
    ul, ol { margin: 0.5rem 0 0.5rem 1.5rem; }
    li { margin: 0.25rem 0; }
    code { font-family: var(--font-mono); font-size: 0.85em; background: #f3f4f6; padding: 0.15rem 0.35rem; border-radius: 3px; }
    pre { background: #1a1a1a; color: #e5e5e5; font-family: var(--font-mono); font-size: 0.8125rem; padding: 1rem 1.25rem; border-radius: var(--radius); overflow-x: auto; margin: 1rem 0; line-height: 1.5; }
    pre code { background: none; padding: 0; color: inherit; }
    table { width: 100%; border-collapse: collapse; margin: 1rem 0; font-size: 0.875rem; }
    th, td { text-align: left; padding: 0.5rem 0.75rem; border-bottom: 1px solid var(--color-border); }
    th { font-weight: 600; background: var(--color-primary-light); }
    .footer-links { text-align: center; font-size: 0.8125rem; color: var(--color-text-muted); margin: 2rem 0 0.5rem; }
    .footer-links a { color: var(--color-text-muted); }
    .created-by { text-align: center; font-size: 0.75rem; color: var(--color-text-muted); }
    @media (max-width: 640px) { .site-header { padding: 0.75rem 1rem; } main { padding: 0 1rem 2rem; } h1 { font-size: 1.5rem; } }
  </style>
</head>
<body>
  <header class="site-header">
    <a class="site-brand" href="/"><img src="/mcpbr-logo.jpg" alt="" width="28" height="28"> mcpbr</a>
    <nav>
      <a href="/installation.html">Install</a>
      <a href="/category/index.html">Benchmarks</a>
      <a href="/about.html">About</a>
      <a href="https://github.com/greynewell/mcpbr">GitHub</a>
    </nav>
  </header>

  <main>
    <h1>Configuration</h1>
    <p>mcpbr uses YAML configuration files to define your MCP server settings and evaluation parameters.</p>

    <h2>Quick Start</h2>
    <p>The fastest way to get started is with <a href="https://github.com/greynewell/mcpbr/tree/main/examples">example configurations</a>:</p>
    <pre><code>mcpbr run -c examples/quick-start/getting-started.yaml -v</code></pre>
    <p>Or generate a custom config:</p>
    <pre><code>mcpbr init</code></pre>

    <h2>Full Configuration Example</h2>
    <pre><code># MCP Server Configuration
mcp_server:
  name: "mcpbr"
  command: "npx"
  args:
    - "-y"
    - "@modelcontextprotocol/server-filesystem"
    - "{workdir}"
  env: {}

# Provider and Harness
provider: "anthropic"
agent_harness: "claude-code"

# Model Configuration
model: "sonnet"

# Benchmark Selection
benchmark: "swe-bench-verified"
sample_size: 10

# Execution Parameters
timeout_seconds: 300
max_concurrent: 4
max_iterations: 10

# Docker Configuration
use_prebuilt_images: true</code></pre>

    <h2>MCP Server Section</h2>
    <table>
      <tr><th>Field</th><th>Type</th><th>Description</th></tr>
      <tr><td><code>name</code></td><td>string</td><td>Name to register the MCP server as (default: <code>mcpbr</code>)</td></tr>
      <tr><td><code>command</code></td><td>string</td><td>Executable to run (e.g., <code>npx</code>, <code>uvx</code>, <code>python</code>)</td></tr>
      <tr><td><code>args</code></td><td>list</td><td>Command arguments. Use <code>{workdir}</code> as placeholder</td></tr>
      <tr><td><code>env</code></td><td>dict</td><td>Additional environment variables</td></tr>
    </table>

    <h3>Environment Variables</h3>
    <pre><code>mcp_server:
  command: "npx"
  args: ["-y", "@supermodeltools/mcp-server"]
  env:
    SUPERMODEL_API_KEY: "${SUPERMODEL_API_KEY}"
    LOG_LEVEL: "${LOG_LEVEL:-info}"</code></pre>

    <h2>Benchmark Selection</h2>
    <table>
      <tr><th>Field</th><th>Default</th><th>Description</th></tr>
      <tr><td><code>benchmark</code></td><td><code>swe-bench-verified</code></td><td>Benchmark to run</td></tr>
      <tr><td><code>sample_size</code></td><td><code>null</code></td><td>Number of tasks (<code>null</code> = full dataset)</td></tr>
    </table>

    <h2>Execution Parameters</h2>
    <table>
      <tr><th>Field</th><th>Default</th><th>Description</th></tr>
      <tr><td><code>timeout_seconds</code></td><td><code>300</code></td><td>Timeout per task in seconds</td></tr>
      <tr><td><code>max_concurrent</code></td><td><code>4</code></td><td>Maximum parallel task evaluations</td></tr>
      <tr><td><code>max_iterations</code></td><td><code>10</code></td><td>Maximum agent iterations per task</td></tr>
      <tr><td><code>thinking_budget</code></td><td><code>null</code></td><td>Extended thinking token budget (1024-31999)</td></tr>
      <tr><td><code>budget</code></td><td><code>null</code></td><td>Maximum budget in USD</td></tr>
    </table>

    <h2>Example Configurations</h2>

    <h3>Filesystem Server</h3>
    <pre><code>mcp_server:
  command: "npx"
  args: ["-y", "@modelcontextprotocol/server-filesystem", "{workdir}"]</code></pre>

    <h3>Fast Iteration (Development)</h3>
    <pre><code>mcp_server:
  command: "npx"
  args: ["-y", "@modelcontextprotocol/server-filesystem", "{workdir}"]

model: "haiku"
sample_size: 3
max_concurrent: 1
timeout_seconds: 180</code></pre>

    <h3>Full Benchmark Run</h3>
    <pre><code>mcp_server:
  command: "npx"
  args: ["-y", "@modelcontextprotocol/server-filesystem", "{workdir}"]

model: "sonnet"
sample_size: null
max_concurrent: 8
timeout_seconds: 600</code></pre>

    <h2>Next Steps</h2>
    <ul>
      <li><a href="/cli.html">CLI Reference</a> &mdash; Command options that override config values</li>
      <li><a href="/category/index.html">Benchmarks</a> &mdash; Available benchmarks and how to use them</li>
      <li><a href="https://github.com/greynewell/mcpbr/tree/main/examples">Examples</a> &mdash; Browse 25+ example configurations</li>
    </ul>

    <p class="footer-links">
      <a href="/sitemap.xml">Sitemap</a> &middot;
      <a href="/llms.txt">llms.txt</a>
    </p>
    <p class="created-by">Created by <a href="{{.Site.AuthorURL}}">{{.Site.Author}}</a></p>
  </main>
</body>
</html>
